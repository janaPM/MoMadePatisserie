<div class="app-content">
  <div class="min-h-screen bg-[var(--color-bg)]">
    @if (currentView() === 'landing') {
      <div class="animate-fadeIn">
      <nav class="fixed w-full z-50 nav-header-bg backdrop-blur-md border-b border-accent-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-3.5 sm:py-4 flex justify-between items-center">
          <div class="flex items-center gap-1.5 sm:gap-2">
            <span class="font-serif text-lg sm:text-2xl font-bold tracking-wider text-[var(--color-primary)]">Mo Made</span>
            <span class="text-[var(--color-secondary)] font-serif italic font-semibold text-xs sm:text-sm">Patisserie</span>
          </div>
          <!-- Desktop Nav Links -->
          <div class="hidden md:flex items-center gap-8 text-sm font-sans font-medium tracking-wide">
            <a href="#boutique" class="text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors">Collections</a>
            <a href="#story" class="text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors">Our Story</a>
            <a href="#concierge" class="text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors">Order</a>
          </div>
          <!-- Contact + CTA -->
          <div class="flex items-center gap-3 sm:gap-4">
            <!-- WhatsApp Quick Contact - hidden on mobile, visible on sm+ -->
            <!-- <a [href]="contactWhatsappUrl" target="_blank" class="hidden sm:flex items-center gap-1.5 text-[var(--color-secondary)] hover:text-[var(--color-primary)] transition-colors">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654z"/></svg>
              <span class="text-xs font-sans font-medium">{{contactPhone}}</span>
            </a> -->
            <a href="#concierge" class="bg-[var(--color-primary)] text-white px-4 py-2 sm:px-5 sm:py-2.5 rounded-full text-xs sm:text-sm font-sans font-medium hover:bg-[var(--color-secondary)] transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95">
              Book Now
            </a>
          </div>
        </div>
      </nav>

      <section class="min-h-screen hero-gradient pt-20 sm:pt-24 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12 lg:py-20">
          <div class="flex flex-col xl:flex-row items-center gap-8 sm:gap-12 xl:gap-20 2xl:gap-32">
            <div class="flex-1 min-w-[300px] sm:min-w-[340px] max-w-2xl space-y-5 sm:space-y-8 text-center xl:text-left z-10">
              <div class="inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full lbb-badge-gradient border border-secondary-30">
                <svg class="w-3 h-3 sm:w-4 sm:h-4 text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="12" height="12"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                <span class="text-[10px] sm:text-xs font-sans font-bold text-[var(--color-primary)] uppercase tracking-[0.15em] sm:tracking-[0.2em]">LBB Award Winner</span>
                <svg class="w-3 h-3 sm:w-4 sm:h-4 text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="12" height="12"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
              </div>
              <h1 class="font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-[var(--color-primary)] leading-[1.1]">
                Where <span class="italic text-[var(--color-secondary)]">Sugar</span><br/>Becomes Art
              </h1>
              <p class="text-base sm:text-lg md:text-xl text-[#5A5552] max-w-lg mx-auto lg:mx-0 font-sans font-light leading-relaxed">
                Bespoke signature cakes & gourmet treats handcrafted with love in Bangalore by <span class="font-medium text-[var(--color-primary)]">Monisha Prakash</span>
              </p>
              <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center lg:justify-start">
                <a [href]="contactWhatsappUrl" target="_blank" class="group inline-flex items-center justify-center gap-2 sm:gap-3 bg-[var(--color-primary)] text-white px-6 sm:px-8 py-3.5 sm:py-4 rounded-full font-sans font-medium text-sm sm:text-base hover:bg-[var(--color-secondary)] transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1 active:scale-95">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Consult on WhatsApp
                  <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="14" height="14"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                </a>
                <a href="#boutique" class="inline-flex items-center justify-center gap-2 bg-white/80 backdrop-blur text-[var(--color-primary)] border border-[var(--color-accent)] px-6 sm:px-8 py-3.5 sm:py-4 rounded-full font-sans font-medium text-sm sm:text-base hover-bg-accent-30 transition-all duration-300 active:scale-95">
                  View Collections
                </a>
              </div>
            </div>
            <div class="flex-1 relative z-10 w-full max-w-md xl:max-w-none">
              <div class="absolute -inset-3 sm:-inset-4 md:-inset-6 image-frame-gradient rounded-[32px] sm:rounded-[40px] -rotate-3 shadow-2xl"></div>
              <div class="relative group">
                <picture>
                  <source srcset="assets/images/IMG_5087.webp" type="image/webp"/>
                  <img src="assets/images/IMG_5087.jpeg" alt="Signature Floral Cake" fetchpriority="high" class="relative rounded-[24px] sm:rounded-[32px] shadow-2xl z-10 w-full object-cover h-[320px] sm:h-[400px] md:h-[500px] lg:h-[550px] group-hover:scale-[1.02] transition-transform duration-700"/>
                </picture>
                <div class="absolute -bottom-3 -right-3 sm:-bottom-4 sm:-right-4 bg-white/90 backdrop-blur-md rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-xl z-20 border border-accent-50">
                  <div class="flex items-center gap-2 sm:gap-3">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[var(--color-accent)] rounded-full flex items-center justify-center">
                      <svg class="w-5 h-5 sm:w-6 sm:h-6 text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                    </div>
                    <div>
                      <p class="text-[10px] sm:text-xs text-[#7A7471] font-sans uppercase tracking-wider">Trusted by</p>
                      <p class="font-serif text-base sm:text-lg text-[var(--color-primary)] font-bold">5000+ Clients</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="bg-white border-y border-accent-50 py-8">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8 text-center">
            <button (click)="openGoogleReviews()" class="group space-y-0.5 sm:space-y-1 cursor-pointer hover:scale-105 transition-transform duration-300 active:scale-95">
              <p class="font-serif text-2xl sm:text-3xl md:text-4xl text-[var(--color-primary)] font-bold group-hover:text-[var(--color-secondary)] transition-colors">{{googleRating()}}<span class="text-[var(--color-secondary)]">/5</span></p>
              <p class="text-[10px] sm:text-xs font-sans uppercase tracking-[0.1em] sm:tracking-[0.15em] text-[#7A7471] group-hover:text-[var(--color-secondary)] transition-colors">Google Rating</p>
              <p class="text-[10px] sm:text-xs font-sans text-[var(--color-secondary)] opacity-0 group-hover:opacity-100 transition-opacity">View Reviews â†’</p>
            </button>
            <div class="space-y-0.5 sm:space-y-1">
              <p class="font-serif text-2xl sm:text-3xl md:text-4xl text-[var(--color-primary)] font-bold">100<span class="text-[var(--color-secondary)]">%</span></p>
              <p class="text-[10px] sm:text-xs font-sans uppercase tracking-[0.1em] sm:tracking-[0.15em] text-[#7A7471]">Eggless Options</p>
            </div>
            <div class="space-y-0.5 sm:space-y-1">
              <p class="font-serif text-2xl sm:text-3xl md:text-4xl text-[var(--color-primary)] font-bold">13<span class="text-[var(--color-secondary)]">+</span></p>
              <p class="text-[10px] sm:text-xs font-sans uppercase tracking-[0.1em] sm:tracking-[0.15em] text-[#7A7471]">Years Crafting</p>
            </div>
            <div class="space-y-0.5 sm:space-y-1">
              <p class="font-serif text-2xl sm:text-3xl md:text-4xl text-[var(--color-primary)] font-bold">5K<span class="text-[var(--color-secondary)]">+</span></p>
              <p class="text-[10px] sm:text-xs font-sans uppercase tracking-[0.1em] sm:tracking-[0.15em] text-[#7A7471]">Happy Celebrations</p>
            </div>
          </div>
        </div>
      </section>

      <section id="boutique" class="py-16 sm:py-20 md:py-28 bg-[var(--color-bg)]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
          <div class="text-center mb-10 sm:mb-16 space-y-3 sm:space-y-4">
            <div class="inline-flex items-center gap-2 text-[var(--color-secondary)]">
              <span class="w-8 sm:w-12 h-px bg-[var(--color-secondary)]"></span>
              <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z"/></svg>
              <span class="w-8 sm:w-12 h-px bg-[var(--color-secondary)]"></span>
            </div>
            <h2 class="font-serif text-3xl sm:text-4xl md:text-5xl text-[var(--color-primary)] font-bold">The Boutique</h2>
            <p class="text-[#7A7471] font-sans text-sm sm:text-base md:text-lg max-w-2xl mx-auto">Curated collections of edible artistry, each piece handcrafted to perfection</p>
          </div>

          <!-- Desktop Grid (sm and up) -->
          <div class="hidden sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
            @for (category of categories; track category.id) {
              <div class="group cursor-pointer active:scale-[0.98] transition-transform" (click)="openCategory(category.id)">
                <div class="relative overflow-hidden rounded-2xl sm:rounded-3xl mb-3 sm:mb-4 md:mb-6 aspect-[4/5] bg-accent-30">
                  <img [src]="category.image" [alt]="category.title" loading="lazy" class="w-full h-full object-cover group-hover:scale-110 transition-all duration-700 ease-out"/>
                  <div class="absolute inset-0 product-overlay-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                  <!-- Brand Signature Watermark -->
                  <div class="signature-watermark absolute bottom-5 right-5 pointer-events-none z-10 select-none text-center">
                    <div class="text-white/90 text-sm font-serif leading-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.4)]">Mo</div>
                    <div class="text-white/90 text-sm font-serif leading-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.4)]">Made</div>
                    <div class="flex items-center justify-center gap-1 mt-0.5">
                      <span class="w-1 h-1 rounded-full bg-white/60"></span>
                      <span class="text-white/80 text-[6px] tracking-[0.2em] uppercase font-sans drop-shadow-[0_1px_1px_rgba(0,0,0,0.3)]">Patisserie</span>
                      <span class="w-1 h-1 rounded-full bg-white/60"></span>
                    </div>
                  </div>
                  <div class="absolute bottom-4 sm:bottom-6 left-4 sm:left-6 right-4 sm:right-6 translate-y-full group-hover:translate-y-0 transition-transform duration-500">
                    <span class="inline-flex items-center gap-1.5 sm:gap-2 bg-white/90 backdrop-blur text-[var(--color-primary)] px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-sans font-medium">
                      <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="14" height="14"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                      View Collection
                    </span>
                  </div>
                </div>
                <div class="space-y-2 px-2">
                  <div class="flex items-center justify-between">
                    <h3 class="font-serif text-2xl text-[var(--color-primary)] group-hover:text-[var(--color-secondary)] transition-colors">{{category.title}}</h3>
                    <svg class="w-5 h-5 text-[var(--color-secondary)] opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                  </div>
                  <p class="text-[#7A7471] font-sans text-sm leading-relaxed">{{category.description}}</p>
                  <p class="text-[var(--color-secondary)] font-sans font-bold text-lg">{{category.price}}</p>
                </div>
              </div>
            }
          </div>

          <!-- Mobile Horizontal Carousel (xs only) -->
          <div class="sm:hidden">
            <div 
              (scroll)="onCarouselScroll($event)"
              class="boutique-carousel flex overflow-x-auto snap-x snap-mandatory gap-4 px-4 -mx-4 pb-4"
            >
              @for (category of categories; track category.id; let i = $index) {
                <div 
                  class="carousel-card flex-shrink-0 w-[80vw] snap-center"
                  (click)="openCategory(category.id)"
                >
                  <div class="group cursor-pointer active:scale-[0.98] transition-transform">
                    <div class="relative overflow-hidden rounded-2xl mb-4 aspect-[4/5] bg-accent-30">
                      <img [src]="category.image" [alt]="category.title" loading="lazy" class="w-full h-full object-cover transition-all duration-500"/>
                      <div class="absolute inset-0 product-overlay-gradient"></div>
                      <!-- Brand Signature Watermark -->
                      <div class="signature-watermark absolute bottom-4 right-3 pointer-events-none z-10 select-none text-center">
                        <div class="text-white/90 text-xs font-serif leading-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.4)]">Mo</div>
                        <div class="text-white/90 text-xs font-serif leading-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.4)]">Made</div>
                        <div class="flex items-center justify-center gap-0.5 mt-0.5">
                          <span class="w-0.5 h-0.5 rounded-full bg-white/60"></span>
                          <span class="text-white/80 text-[5px] tracking-[0.15em] uppercase font-sans drop-shadow-[0_1px_1px_rgba(0,0,0,0.3)]">Patisserie</span>
                          <span class="w-0.5 h-0.5 rounded-full bg-white/60"></span>
                        </div>
                      </div>
                      <div class="absolute bottom-4 left-4 right-4">
                        <span class="inline-flex items-center gap-1.5 bg-white/90 backdrop-blur text-[var(--color-primary)] px-3 py-1.5 rounded-full text-xs font-sans font-medium">
                          <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="14" height="14"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                          View
                        </span>
                      </div>
                    </div>
                    <div class="space-y-1.5 px-1">
                      <div class="flex items-center justify-between gap-2">
                        <h3 class="font-serif text-xl text-[var(--color-secondary)]">{{category.title}}</h3>
                        <svg class="w-4 h-4 text-[var(--color-secondary)] flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                      </div>
                      <p class="text-[#7A7471] font-sans text-xs leading-relaxed line-clamp-2">{{category.description}}</p>
                      <p class="text-[var(--color-secondary)] font-sans font-bold text-sm">{{category.price}}</p>
                    </div>
                  </div>
                </div>
              }
            </div>

            <!-- Index Indicators -->
            <div class="flex items-center justify-center gap-2 mt-5">
              @for (category of categories; track category.id; let i = $index) {
                <div [class]="'transition-all duration-300 rounded-full ' + (activeCarouselIndex() === i ? 'w-6 h-1 bg-[var(--color-secondary)]' : 'w-1.5 h-1 bg-[var(--color-accent)]')"></div>
              }
            </div>
          </div>
        </div>
      </section>

      <section id="story" class="py-20 sm:py-28 bg-white relative overflow-hidden">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 relative z-10">
          <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            <div class="relative order-2 lg:order-1 group cursor-pointer" (click)="toggleStoryImage()">
              <div class="absolute -inset-4 story-frame-gradient rounded-[40px] rotate-2"></div>
              
              <div class="relative rounded-[32px] overflow-hidden shadow-xl aspect-video md:aspect-[4/5] lg:aspect-video xl:aspect-[4/3] group-hover:scale-[1.02] transition-transform duration-700">
                <!-- Image Slider -->
                @for (img of storyImages; track img; let i = $index) {
                  <img [src]="img" 
                       loading="lazy"
                       [class]="'absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ' + (currentStoryIndex() === i ? 'opacity-100' : 'opacity-0')"
                       alt="Our Story Video Cover"/>
                }
                
                <!-- Play Button Overlay -->
                <div class="absolute inset-0 flex items-center justify-center z-20 bg-black/10 group-hover:bg-black/20 transition-colors">
                  <button class="w-20 h-20 bg-white/20 backdrop-blur-md border border-white/40 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 24 24" width="32" height="32"><path d="M8 5v14l11-7z"/></svg>
                  </button>
                </div>

                <!-- Narrative Overlay -->
                <div class="absolute bottom-0 left-0 right-0 p-8 z-20 bg-gradient-to-t from-black/80 to-transparent text-left">
                   <p class="text-white/80 font-sans text-xs uppercase tracking-[0.2em] mb-2">Watch the Film</p>
                   <p class="text-white font-serif text-2xl italic">"From a concept to a masterpiece."</p>
                </div>
              </div>
            </div>
            <div class="space-y-6 sm:space-y-8 lg:space-y-10 order-1 lg:order-2">
              <div class="inline-flex items-center gap-2 sm:gap-2.5 text-[var(--color-secondary)]">
                <svg class="w-6 h-6 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <span class="text-sm sm:text-sm font-sans font-bold uppercase tracking-[0.15em] sm:tracking-[0.2em]">Our Story</span>
              </div>
              <h2 class="font-serif text-3xl sm:text-4xl md:text-5xl text-[var(--color-primary)] font-bold leading-tight">
                More than cakes,<br/><span class="italic text-[var(--color-secondary)] text-2xl sm:text-3xl md:text-4xl">we craft memories</span>
              </h2>
              <blockquote class="text-[#5A5552] font-sans text-sm sm:text-base md:text-lg leading-relaxed border-l-4 border-[var(--color-accent)] pl-5 sm:pl-6 italic">
                "Every cake I create carries a piece of my heart. From selecting the perfect sugar flowers to hand-painting delicate petals, I believe that the art of baking is really the art of loving."
              </blockquote>
              <div class="flex items-center gap-4 sm:gap-4">
                <div class="w-16 h-16 sm:w-16 sm:h-16 rounded-full bg-[var(--color-accent)] flex items-center justify-center flex-shrink-0">
                  <span class="font-serif text-3xl sm:text-2xl text-[var(--color-secondary)] font-bold">M</span>
                </div>
                <div>
                  <p class="font-serif text-xl sm:text-xl text-[var(--color-primary)] font-bold">Monisha Prakash</p>
                  <p class="text-[#7A7471] font-sans text-base sm:text-sm">Founder & Sugar Artist</p>
                </div>
              </div>
              <div class="pt-3 sm:pt-4">
                <a href="https://instagram.com/mo_made_patisserie" target="_blank" class="inline-flex items-center gap-3 sm:gap-3 text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors font-sans font-medium text-base sm:text-base group">
                  <span class="w-12 h-12 sm:w-12 sm:h-12 rounded-full bg-[var(--color-accent)] flex items-center justify-center group-hover:bg-[var(--color-secondary)] transition-colors flex-shrink-0">
                    <svg class="w-6 h-6 sm:w-6 sm:h-6 text-[var(--color-secondary)] group-hover:text-white transition-colors" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                  </span>
                  Follow our journey &#64;mo_made_patisserie
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="concierge" class="py-20 sm:py-28 bg-[var(--color-primary)] text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-5 bg-pattern"></div>
        <div class="max-w-6xl mx-auto px-3 sm:px-6 relative z-10">
          <div class="text-center mb-8 sm:mb-12 space-y-2 sm:space-y-4">
            <div class="inline-flex items-center gap-1.5 sm:gap-2">
              <svg class="w-4 h-4 sm:w-5 sm:h-5 text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
              <span class="text-[10px] sm:text-xs font-sans font-bold uppercase tracking-[0.15em] sm:tracking-[0.2em] text-[var(--color-accent)]">Occasion Concierge</span>
              <svg class="w-4 h-4 sm:w-5 sm:h-5 text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
            </div>
            <h2 class="font-serif text-3xl sm:text-4xl md:text-5xl text-[var(--color-accent)] font-bold">Design Your Dream Cake</h2>
            <p class="text-gray-400 font-sans text-sm sm:text-base md:text-lg max-w-2xl mx-auto leading-relaxed">Three simple steps to begin your bespoke cake journey</p>
          </div>

          <div class="flex justify-center items-center gap-2 sm:gap-4 mb-8 sm:mb-12 overflow-x-auto">
            @for (s of [1,2,3]; track s; let i = $index) {
              <div class="flex items-center flex-shrink-0">
                <div [class]="'w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center font-sans font-bold text-xs sm:text-sm transition-all duration-300 ' + (step() >= s ? 'bg-[var(--color-secondary)] text-white' : 'bg-white/10 text-gray-500')">{{s}}</div>
                @if (i < 2) {
                  <div [class]="'w-8 sm:w-16 md:w-24 h-0.5 mx-1 sm:mx-2 transition-all duration-300 ' + (step() > s ? 'bg-[var(--color-secondary)]' : 'bg-white/10')"></div>
                }
              </div>
            }
          </div>

          <div class="bg-white/5 backdrop-blur-xl rounded-2xl sm:rounded-3xl p-4 sm:p-8 md:p-10 border border-white/10 shadow-2xl max-w-6xl mx-auto">
            <div class="flex flex-col lg:flex-row gap-6 sm:gap-8 lg:gap-12">
              <div class="flex-1">
                @if (step() === 1) {
                  <div class="space-y-5 sm:space-y-8 animate-slideUp">
                    <div class="text-center">
                      <h3 class="font-serif text-xl sm:text-2xl text-[var(--color-accent)] mb-1 sm:mb-2">Select Your Vibe</h3>
                      <p class="text-gray-400 font-sans text-sm sm:text-sm">What aesthetic speaks to your celebration?</p>
                    </div>
                    <div class="grid sm:grid-cols-3 gap-3 sm:gap-4">
                      @for (vibe of vibes; track vibe.name) {
                        <div (click)="onVibeSelect(vibe.name)" [class]="'relative cursor-pointer rounded-lg sm:rounded-2xl p-5 sm:p-6 text-center transition-all duration-300 border ' + (selectedVibe() === vibe.name ? 'vibe-box-selected' : 'vibe-box-default')">
                          <div class="w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 sm:mb-4 rounded-full vibe-icon-container flex items-center justify-center border">
                            <svg class="w-7 h-7 sm:w-7 sm:h-7 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="0.5" viewBox="0 0 24 24" width="28" height="28">
                              @if (vibe.name === 'Romantic') {
                                <path d="M12 21C12 21 4 13.5 4 8.5C4 5.5 6.5 3 9.5 3C11 3 12 4 12 4C12 4 13 3 14.5 3C17.5 3 20 5.5 20 8.5C20 13.5 12 21 12 21Z"/>
                              }
                              @if (vibe.name === 'Minimal') {
                                <rect x="3" y="3" width="18" height="18" rx="0"/>
                                <line x1="3" y1="12" x2="21" y2="12"/>
                                <line x1="12" y1="3" x2="12" y2="21"/>
                              }
                              @if (vibe.name === 'Whimsical') {
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 2v4M12 18v4M2 12h4M18 12h4M5.6 5.6l2.8 2.8M15.6 15.6l2.8 2.8M5.6 18.4l2.8-2.8M15.6 8.4l2.8-2.8"/>
                              }
                            </svg>
                          </div>
                          <h4 class="font-serif text-sm sm:text-lg text-white mb-1">{{vibe.name}}</h4>
                          <p class="text-gray-400 font-sans text-[11px] sm:text-xs leading-relaxed">{{vibe.desc}}</p>
                          @if (selectedVibe() === vibe.name) {
                            <div class="absolute top-2 sm:top-3 right-2 sm:right-3">
                              <svg class="w-4 h-4 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/></svg>
                            </div>
                          }
                        </div>
                      }
                    </div>
                    <!-- Step 1 Continue Button - Hidden since auto-advance on selection -->
                    <!-- <button (click)="nextStep()" [disabled]="!selectedVibe()" class="w-full py-3 sm:py-4 rounded-lg sm:rounded-xl font-sans font-bold text-sm sm:text-base text-white transition-all duration-300 flex items-center justify-center gap-2 bg-[var(--color-secondary)] hover:bg-[#B38A7C] shadow-lg hover:shadow-xl">Continue to Flavors</button> -->
                  </div>
                }

                @if (step() === 2) {
                  <div class="space-y-5 sm:space-y-8 animate-slideUp">
                    <div class="text-center">
                      <h3 class="font-serif text-lg sm:text-2xl text-[var(--color-accent)] mb-1 sm:mb-2">Choose Your Flavor Profile</h3>
                      <p class="text-gray-400 font-sans text-xs sm:text-sm">Our signature flavors, crafted to perfection</p>
                    </div>
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4">
                      @for (flavor of flavors; track flavor.name) {
                        <div (click)="onFlavorSelect(flavor.name)" [class]="'cursor-pointer rounded-lg sm:rounded-xl p-3 sm:p-4 text-center transition-all duration-300 border ' + (selectedFlavor() === flavor.name ? 'vibe-box-selected' : 'vibe-box-default')">
                          <div class="w-9 h-9 sm:w-10 sm:h-10 mx-auto mb-2 sm:mb-3 rounded-full vibe-icon-container flex items-center justify-center border">
                            <svg class="w-5 h-5 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="0.5" viewBox="0 0 24 24" width="20" height="20">
                              <circle cx="12" cy="12" r="8"/>
                              <circle cx="12" cy="12" r="4" stroke-dasharray="2,2"/>
                              <circle cx="12" cy="12" r="1" fill="currentColor"/>
                            </svg>
                          </div>
                          <p class="text-xs sm:text-sm text-white font-serif">{{flavor.name}}</p>
                        </div>
                      }
                    </div>
                    <!-- Step 2 Buttons - Back button only, Next is auto-advance on selection -->
                    <div class="flex gap-2 sm:gap-4">
                      <button (click)="prevStep()" class="flex-1 py-3 sm:py-4 rounded-lg sm:rounded-xl font-sans font-bold text-xs sm:text-base text-white bg-white/10 hover:bg-white/20 transition-all duration-300 flex items-center justify-center gap-1 sm:gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"/></svg>
                        <span class="hidden sm:inline">Back</span>
                      </button>
                    </div>
                  </div>
                }

                @if (step() === 3) {
                  <div class="space-y-4 sm:space-y-8 animate-slideUp">
                    <div class="text-center">
                      <h3 class="font-serif text-lg sm:text-2xl text-[var(--color-accent)] mb-1 sm:mb-2">Final Details</h3>
                      <p class="text-gray-400 font-sans text-xs sm:text-sm">Tell us about your special day</p>
                    </div>
                    <div class="grid sm:grid-cols-2 gap-3 sm:gap-4">
                      <div class="space-y-1.5 sm:space-y-2">
                        <label class="text-[10px] sm:text-xs font-sans uppercase tracking-widest text-gray-400">Your Name</label>
                        <input type="text" [(ngModel)]="customerName" placeholder="e.g. Priya Sharma" class="w-full bg-white/5 border border-white/10 rounded-lg sm:rounded-xl px-3 sm:px-4 py-2.5 sm:py-3.5 text-base text-white font-sans placeholder-gray-500 focus:outline-none focus:border-[var(--color-secondary)] focus:ring-1 focus:ring-[var(--color-secondary)] transition-all" style="font-size: 16px !important;"/>
                      </div>
                      <div class="space-y-1.5 sm:space-y-2">
                        <label class="text-[10px] sm:text-xs font-sans uppercase tracking-widest text-gray-400">Event Date</label>
                        <div class="relative">
                          <input type="date" [(ngModel)]="eventDate" class="date-input-ios w-full bg-white/5 border border-white/10 rounded-lg sm:rounded-xl px-3 sm:px-4 py-2.5 sm:py-3.5 text-base text-white font-sans focus:outline-none focus:border-[var(--color-secondary)] focus:ring-1 focus:ring-[var(--color-secondary)] transition-all pr-10" style="font-size: 16px !important;"/>
                          <svg class="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/></svg>
                        </div>
                      </div>
                    </div>
                    <div class="space-y-1.5 sm:space-y-2">
                      <label class="text-[10px] sm:text-xs font-sans uppercase tracking-widest text-gray-400">Message on Cake</label>
                      <input type="text" [(ngModel)]="cakeMessage" placeholder="e.g. Happy Birthday Priya!" class="w-full bg-white/5 border border-white/10 rounded-lg sm:rounded-xl px-3 sm:px-4 py-2.5 sm:py-3.5 text-base text-white font-sans placeholder-gray-500 focus:outline-none focus:border-[var(--color-secondary)] focus:ring-1 focus:ring-[var(--color-secondary)] transition-all" style="font-size: 16px !important;"/>
                      <p class="text-[10px] text-gray-500 font-sans">Leave blank if no message needed</p>
                    </div>
                    <div class="bg-secondary-10 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-secondary-30">
                      <p class="text-xs sm:text-sm font-sans text-[var(--color-accent)]">
                        <span class="font-bold">Your Selection:</span> {{selectedVibe()}} vibe with {{selectedFlavor()}} flavor
                      </p>
                    </div>
                    <div class="flex gap-2 sm:gap-4">
                      <button (click)="prevStep()" class="flex-1 py-3 sm:py-4 rounded-lg sm:rounded-xl font-sans font-bold text-xs sm:text-base text-white bg-white/10 hover:bg-white/20 transition-all duration-300 flex items-center justify-center gap-1 sm:gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"/></svg>
                        <span class="hidden sm:inline">Back</span>
                      </button>
                      <button (click)="sendToWhatsApp()" [disabled]="!canSubmit()" [class]="'flex-1 py-3 sm:py-4 rounded-lg sm:rounded-xl font-sans font-bold text-xs sm:text-base transition-all duration-300 flex items-center justify-center gap-1 sm:gap-2 ' + (canSubmit() ? 'bg-[#25D366] hover:bg-[#20BD5A] text-white shadow-lg hover:shadow-xl' : 'bg-gray-600 text-gray-400 cursor-not-allowed')">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"/></svg>
                        <span class="hidden sm:inline">Send to WhatsApp</span>
                        <span class="sm:hidden">Send</span>
                      </button>
                    </div>
                  </div>
                }
              </div>
              
              <div class="lg:w-[420px] flex items-center justify-center h-[360px] sm:h-[420px] lg:h-auto">
                <div [class]="'relative w-full max-w-[320px] sm:max-w-[360px] lg:max-w-[400px] aspect-square rounded-2xl sm:rounded-3xl overflow-hidden bg-gradient-to-br from-[#FFF8F5] via-[#FFF0EB] to-[#FFE4DB] shadow-2xl border border-white/50 cake-preview-container ' + (canSubmit() ? 'ring-4 ring-secondary-30' : '')">
                  <!-- Sparkle animation when ready to submit -->
                  @if (canSubmit()) {
                    <div class="absolute inset-0 pointer-events-none z-30">
                      <div class="sparkle sparkle-1"></div>
                      <div class="sparkle sparkle-2"></div>
                      <div class="sparkle sparkle-3"></div>
                      <div class="sparkle sparkle-4"></div>
                      <div class="sparkle sparkle-5"></div>
                      <div class="sparkle sparkle-6"></div>
                      <div class="sparkle sparkle-7"></div>
                      <div class="sparkle sparkle-8"></div>
                      <div class="sparkle sparkle-9"></div>
                      <div class="sparkle sparkle-10"></div>
                    </div>
                  }
                  <div class="absolute inset-0 flex items-center justify-center" style="perspective: 800px;">
                    <div class="cake-3d relative" style="transform-style: preserve-3d; transform: rotateX(-15deg) rotateY(-20deg);">
                      <svg class="w-64 h-72" viewBox="0 0 200 240" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                          <!-- Premium Chocolate - Rich & Decadent -->
                          <linearGradient id="cakeGradChocolate" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#8B5A3C"/>
                            <stop offset="40%" stop-color="#6B4226"/>
                            <stop offset="100%" stop-color="#4A2C17"/>
                          </linearGradient>
                          <!-- Vanilla Bean - Creamy Elegance -->
                          <linearGradient id="cakeGradVanilla" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFFEF5"/>
                            <stop offset="50%" stop-color="#FFF8DC"/>
                            <stop offset="100%" stop-color="#F5E6C8"/>
                          </linearGradient>
                          <!-- Red Velvet - Bold & Romantic -->
                          <linearGradient id="cakeGradRedVelvet" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#DC3545"/>
                            <stop offset="50%" stop-color="#B91C1C"/>
                            <stop offset="100%" stop-color="#8B0000"/>
                          </linearGradient>
                          <!-- Strawberry - Fresh Pink Blush -->
                          <linearGradient id="cakeGradStrawberry" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFD1DC"/>
                            <stop offset="50%" stop-color="#FF9EB5"/>
                            <stop offset="100%" stop-color="#E75480"/>
                          </linearGradient>
                          <!-- Mango - Tropical Sunset -->
                          <linearGradient id="cakeGradMango" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFE135"/>
                            <stop offset="50%" stop-color="#FFBF00"/>
                            <stop offset="100%" stop-color="#FF9500"/>
                          </linearGradient>
                          <!-- Pineapple - Golden Tropical -->
                          <linearGradient id="cakeGradPineapple" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFFACD"/>
                            <stop offset="50%" stop-color="#FFE066"/>
                            <stop offset="100%" stop-color="#FFD700"/>
                          </linearGradient>
                          <!-- Butterscotch - Caramel Warmth -->
                          <linearGradient id="cakeGradButterscotch" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFE4B5"/>
                            <stop offset="50%" stop-color="#DEB887"/>
                            <stop offset="100%" stop-color="#CD853F"/>
                          </linearGradient>
                          <!-- Coffee - Mocha Sophistication -->
                          <linearGradient id="cakeGradCoffee" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#C4A484"/>
                            <stop offset="50%" stop-color="#A67B5B"/>
                            <stop offset="100%" stop-color="#6F4E37"/>
                          </linearGradient>
                          <!-- Default - Rose Petal Blush -->
                          <linearGradient id="cakeGradDefault" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFF0EB"/>
                            <stop offset="50%" stop-color="var(--color-accent)"/>
                            <stop offset="100%" stop-color="#E8C8BD"/>
                          </linearGradient>
                          <!-- Frosting Gradients -->
                          <linearGradient id="frostingWhite" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFFFFF"/>
                            <stop offset="100%" stop-color="#FAFAFA"/>
                          </linearGradient>
                          <linearGradient id="frostingPink" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#FFF0F5"/>
                            <stop offset="100%" stop-color="#FFB6C1"/>
                          </linearGradient>
                          <linearGradient id="frostingChoco" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#A67B5B"/>
                            <stop offset="100%" stop-color="#6B4226"/>
                          </linearGradient>
                          <!-- Gold accent for Minimal vibe -->
                          <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stop-color="#D4AF37"/>
                            <stop offset="50%" stop-color="#FFD700"/>
                            <stop offset="100%" stop-color="#D4AF37"/>
                          </linearGradient>
                          <filter id="cakeShadow" x="-50%" y="-50%" width="200%" height="200%">
                            <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="var(--color-primary)" flood-opacity="0.3"/>
                          </filter>
                          <filter id="innerGlow">
                            <feGaussianBlur stdDeviation="2" result="blur"/>
                            <feComposite in="SourceGraphic" in2="blur" operator="over"/>
                          </filter>
                        </defs>
                        
                        <g filter="url(#cakeShadow)" class="cake-body">
                          <ellipse cx="100" cy="215" rx="65" ry="12" [attr.fill]="getCakeFillGradient()" opacity="0.9"/>
                          <ellipse cx="100" cy="215" rx="60" ry="10" fill="url(#frostingWhite)" opacity="0.3"/>
                          
                          <path d="M35 165 L35 215 Q35 220 100 225 Q165 220 165 215 L165 165 Q165 170 100 175 Q35 170 35 165" [attr.fill]="getCakeFillGradient()" class="cake-tier-bottom"/>
                          <ellipse cx="100" cy="165" rx="65" ry="12" [attr.fill]="getCakeFillGradient()"/>
                          <ellipse cx="100" cy="165" rx="60" ry="10" fill="url(#frostingWhite)" opacity="0.2"/>
                          @if (selectedVibe() === 'Romantic') {
                            <ellipse cx="100" cy="165" rx="55" ry="8" fill="none" stroke="#F8BBD9" stroke-width="3" stroke-dasharray="8,4" class="animate-pulse"/>
                          }
                          
                          <path d="M45 115 L45 165 Q45 168 100 173 Q155 168 155 165 L155 115 Q155 118 100 123 Q45 118 45 115" [attr.fill]="getCakeFillGradient()" class="cake-tier-middle"/>
                          <ellipse cx="100" cy="115" rx="55" ry="10" [attr.fill]="getCakeFillGradient()"/>
                          <ellipse cx="100" cy="115" rx="50" ry="8" fill="url(#frostingWhite)" opacity="0.2"/>
                          
                          <!-- Cake Message Text - 2 lines, 20 chars each -->
                          @if (cakeMessage && cakeMessage.trim()) {
                            <g class="cake-message">
                              <text x="100" y="140" text-anchor="middle" fill="var(--color-primary)" font-size="8" font-family="'Playfair Display', serif" font-style="italic" opacity="0.9">
                                {{getCakeMessageLines()[0]}}
                              </text>
                              @if (getCakeMessageLines()[1]) {
                                <text x="100" y="152" text-anchor="middle" fill="var(--color-primary)" font-size="8" font-family="'Playfair Display', serif" font-style="italic" opacity="0.9">
                                  {{getCakeMessageLines()[1]}}
                                </text>
                              }
                            </g>
                          }
                          
                          @if (selectedVibe() === 'Minimal') {
                            <!-- Truly minimal - clean, no ribbons or accents -->
                          }
                          
                          <path d="M55 70 L55 115 Q55 118 100 122 Q145 118 145 115 L145 70 Q145 73 100 77 Q55 73 55 70" [attr.fill]="getCakeFillGradient()" class="cake-tier-top"/>
                          <ellipse cx="100" cy="70" rx="45" ry="8" [attr.fill]="getCakeFillGradient()"/>
                          <ellipse cx="100" cy="70" rx="40" ry="6" fill="url(#frostingWhite)" opacity="0.25"/>
                          
                          @if (selectedVibe() === 'Romantic') {
                            <g class="romantic-decorations">
                              <!-- Heart flowers on top -->
                              <path d="M75 55 C72 50, 66 50, 66 55 C66 60, 75 65, 75 65 C75 65, 84 60, 84 55 C84 50, 78 50, 75 55" fill="#F8BBD9" opacity="0.9"/>
                              <path d="M95 48 C91 42, 83 42, 83 48 C83 55, 95 62, 95 62 C95 62, 107 55, 107 48 C107 42, 99 42, 95 48" fill="#F48FB1" opacity="0.85"/>
                              <path d="M118 52 C115 48, 110 48, 110 52 C110 57, 118 61, 118 61 C118 61, 126 57, 126 52 C126 48, 121 48, 118 52" fill="#F8BBD9" opacity="0.9"/>
                              <path d="M100 38 C97 33, 92 33, 92 38 C92 43, 100 48, 100 48 C100 48, 108 43, 108 38 C108 33, 103 33, 100 38" fill="#EC407A" opacity="0.8"/>
                              
                              <!-- Small hearts on sides -->
                              <path d="M55 130 C53 127, 49 127, 49 130 C49 133, 55 136, 55 136 C55 136, 61 133, 61 130 C61 127, 57 127, 55 130" fill="#F8BBD9" opacity="0.7"/>
                              <path d="M145 135 C143 132, 140 132, 140 135 C140 138, 145 141, 145 141 C145 141, 150 138, 150 135 C150 132, 147 132, 145 135" fill="#F48FB1" opacity="0.6"/>
                              <circle cx="50" cy="180" r="6" fill="#F8BBD9" opacity="0.7"/>
                              <circle cx="150" cy="185" r="5" fill="#F48FB1" opacity="0.6"/>
                            </g>
                          }
                          
                          @if (selectedVibe() === 'Minimal') {
                            <!-- Truly minimal - clean cake with no decorations, just elegant simplicity -->
                          }
                          
                          @if (selectedVibe() === 'Whimsical') {
                            <g class="whimsical-decorations">
                              <circle cx="70" cy="50" r="6" fill="#E1BEE7"/>
                              <circle cx="90" cy="42" r="8" fill="#B2EBF2"/>
                              <circle cx="115" cy="48" r="7" fill="#C8E6C9"/>
                              <circle cx="130" cy="55" r="5" fill="#FFECB3"/>
                              
                              <path d="M40 180 Q35 195 42 205" stroke="#F8BBD9" stroke-width="4" fill="none" stroke-linecap="round"/>
                              <path d="M50 175 Q48 185 52 192" stroke="#B2EBF2" stroke-width="3" fill="none" stroke-linecap="round"/>
                              <path d="M160 180 Q165 192 158 202" stroke="#C8E6C9" stroke-width="4" fill="none" stroke-linecap="round"/>
                              <path d="M150 178 Q153 186 148 193" stroke="#FFECB3" stroke-width="3" fill="none" stroke-linecap="round"/>
                              
                              <circle cx="60" cy="100" r="4" fill="#E1BEE7" opacity="0.8"/>
                              <circle cx="140" cy="105" r="3" fill="#B2EBF2" opacity="0.8"/>
                              <circle cx="55" cy="145" r="5" fill="#C8E6C9" opacity="0.7"/>
                              <circle cx="145" cy="150" r="4" fill="#FFECB3" opacity="0.7"/>
                            </g>
                          }
                          
                          @if (!selectedVibe() && step() >= 1) {
                            <g class="default-topper">
                              <ellipse cx="100" cy="55" rx="20" ry="6" fill="var(--color-accent)"/>
                              <rect x="95" y="35" width="10" height="25" rx="2" fill="var(--color-accent)"/>
                              <circle cx="100" cy="32" r="8" fill="var(--color-secondary)"/>
                              <text x="100" y="36" text-anchor="middle" fill="white" font-size="10" font-weight="bold">?</text>
                            </g>
                          }
                        </g>
                        
                        <g class="shine-effects">
                          <ellipse cx="75" cy="90" rx="8" ry="3" fill="white" opacity="0.3"/>
                          <ellipse cx="70" cy="140" rx="6" ry="2" fill="white" opacity="0.25"/>
                          <ellipse cx="68" cy="188" rx="7" ry="2.5" fill="white" opacity="0.2"/>
                        </g>
                      </svg>
                    </div>
                  </div>
                  
                  <div class="absolute bottom-4 left-4 right-4">
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-3 text-center shadow-lg">
                      @if (selectedVibe() && selectedFlavor()) {
                        <p class="text-xs font-sans text-[#7A7471]">Your Creation</p>
                        <p class="font-serif text-sm text-[var(--color-primary)] font-bold">{{selectedVibe()}} Â· {{selectedFlavor()}}</p>
                      } @else if (selectedVibe()) {
                        <p class="text-xs font-sans text-[#7A7471]">Style Selected</p>
                        <p class="font-serif text-sm text-[var(--color-primary)] font-bold">{{selectedVibe()}} Vibe</p>
                      } @else {
                        <p class="text-xs font-sans text-[#7A7471]">Cake Preview</p>
                        <p class="font-serif text-sm text-[var(--color-secondary)]">Select vibe & flavor</p>
                      }
                    </div>
                  </div>
                  
                  @if (selectedFlavor()) {
                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-md">
                      <span class="text-xs font-sans font-bold" [style.color]="getFlavorAccentColor()">{{selectedFlavor()}}</span>
                    </div>
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer CTA Banner -->
      <section class="bg-[var(--color-primary)] py-8 sm:py-12 md:py-16">
        <div class="max-w-4xl mx-auto px-3 sm:px-6 text-center">
          <h3 class="font-serif text-xl sm:text-2xl md:text-3xl lg:text-4xl text-white font-bold mb-3 sm:mb-4">Ready to Create Something Special?</h3>
          <p class="text-white/80 font-sans text-xs sm:text-sm md:text-base mb-6 sm:mb-8 max-w-xl mx-auto leading-relaxed">Let's craft the perfect cake for your celebration. Start a conversation with us today.</p>
          <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
            <a href="#concierge" class="group inline-flex items-center justify-center gap-2 sm:gap-3 bg-white text-[var(--color-primary)] px-6 sm:px-8 py-3 sm:py-4 rounded-full font-sans font-bold text-sm sm:text-base hover:bg-[var(--color-accent)] transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1 active:scale-95">
              <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
              <span>Book Your Cake</span>
              <svg class="w-3 h-3 sm:w-4 sm:h-4 group-hover:translate-x-1 transition-transform hidden sm:inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="12" height="12"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
            </a>
            <a [href]="contactWhatsappUrl" target="_blank" class="inline-flex items-center justify-center gap-2 sm:gap-3 bg-transparent border-2 border-white text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-sans font-bold text-sm sm:text-base hover:bg-white/10 transition-all duration-300 active:scale-95">
              <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654z"/></svg>
              <span class="hidden sm:inline">WhatsApp Us</span>
              <span class="sm:hidden">WhatsApp</span>
            </a>
          </div>
        </div>
      </section>

      <footer class="bg-[var(--color-bg)] border-t border-accent-50 py-8 sm:py-12 md:py-16">
        <div class="max-w-6xl mx-auto px-3 sm:px-6">
          <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 lg:gap-12 mb-6 sm:mb-8 lg:mb-12">
            <div class="lg:col-span-2 space-y-3 sm:space-y-4">
              <div class="flex items-center gap-1.5 sm:gap-2">
                <span class="font-serif text-lg sm:text-2xl md:text-3xl font-bold text-[var(--color-primary)]">Mo Made</span>
                <span class="text-[var(--color-secondary)] font-serif italic text-xs sm:text-sm md:text-base">Patisserie</span>
              </div>
              <p class="text-[#7A7471] font-sans text-xs sm:text-sm md:text-base leading-relaxed max-w-sm">Artisanal cakes crafted with love and precision. Making your celebrations sweeter since 2013.</p>
              <!-- Contact Info -->
              <div class="space-y-1.5 sm:space-y-2">
                <a [href]="contactWhatsappUrl" class="flex items-center gap-2 text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654z"/></svg>
                  <span class="font-sans text-xs sm:text-sm font-medium">{{contactPhone}}</span>
                </a>
              </div>
              <div class="flex gap-2 sm:gap-3">
                <a href="https://instagram.com/mo_made_patisserie" target="_blank" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[var(--color-accent)] flex items-center justify-center text-[var(--color-secondary)] hover:bg-[var(--color-secondary)] hover:text-white transition-all duration-300 active:scale-95">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                </a>
                <a [href]="contactWhatsappUrl" target="_blank" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[var(--color-accent)] flex items-center justify-center text-[var(--color-secondary)] hover:bg-[var(--color-secondary)] hover:text-white transition-all duration-300 active:scale-95">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 24 24" width="16" height="16"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654z"/></svg>
                </a>
              </div>
            </div>
            <div class="flex flex-row md:contents gap-6 md:gap-0">
              <div class="space-y-2 sm:space-y-3 flex-1 md:flex-none">
                <h4 class="font-serif text-sm sm:text-base md:text-lg text-[var(--color-primary)] font-bold">Quick Links</h4>
                <ul class="space-y-1.5 sm:space-y-2 text-[#7A7471] font-sans text-xs sm:text-sm">
                  <li><a href="#boutique" class="hover:text-[var(--color-secondary)] transition-colors">Collections</a></li>
                  <li><a href="#story" class="hover:text-[var(--color-secondary)] transition-colors">Our Story</a></li>
                  <li><a href="#concierge" class="hover:text-[var(--color-secondary)] transition-colors">Book Now</a></li>
                </ul>
              </div>
              <div class="space-y-2 sm:space-y-3 flex-1 text-right md:text-left md:flex-none">
                <h4 class="font-serif text-sm sm:text-base md:text-lg text-[var(--color-primary)] font-bold">Visit Us</h4>
                <p class="text-[#7A7471] font-sans text-xs sm:text-sm leading-relaxed">Mahalakshmipuram Layout<br/>Bangalore, Karnataka<br/>India</p>
                <p class="text-[var(--color-secondary)] font-sans font-medium text-xs sm:text-sm">By Appointment Only</p>
              </div>
            </div>
          </div>
          <div class="border-t border-accent-50 pt-4 sm:pt-6 md:pt-8 flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-3 md:gap-4">
            <p class="text-[9px] sm:text-[10px] md:text-xs text-[#7A7471] font-sans uppercase tracking-widest">&copy; 2026 Mo Made Patisserie. All rights reserved.</p>
            <p class="text-[9px] sm:text-[10px] md:text-xs text-[#7A7471] font-sans">Crafted with <svg class="w-2.5 h-2.5 sm:w-3 sm:h-3 inline text-[var(--color-secondary)]" fill="currentColor" viewBox="0 0 24 24" width="10" height="10"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg> in Bangalore</p>
          </div>
        </div>
      </footer>
    </div>
  } @else {
    <div class="animate-slideUp">
      <div class="sticky top-0 z-50 bg-bg-95 backdrop-blur-md border-b border-accent-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4">
          <div class="flex items-center justify-between">
            <button (click)="goBack()" class="inline-flex items-center gap-2 text-[var(--color-primary)] hover:text-[var(--color-secondary)] transition-colors font-sans font-medium group">
              <svg class="w-5 h-5 sm:w-4 sm:h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"/></svg>
              <span class="hidden sm:inline">Back to Home</span>
            </button>
            <div class="flex items-center gap-1 sm:gap-2">
              <span class="font-serif text-lg sm:text-xl font-bold text-[var(--color-primary)]">Mo Made</span>
              <span class="text-[var(--color-secondary)] font-serif italic text-xs sm:text-sm">Patisserie</span>
            </div>
            <a href="#" (click)="inquireProduct(activeCategory()?.title || ''); $event.preventDefault()" class="bg-[var(--color-primary)] text-white px-3 sm:px-4 py-2 rounded-full text-sm font-sans font-medium hover:bg-[var(--color-secondary)] transition-all inline-flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"/></svg>
              <span class="hidden sm:inline">Inquire</span>
            </a>
          </div>
        </div>

        <div class="border-t border-accent-30 bg-white/50">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4">
            <!-- Mobile: Title + Filter Icon, Desktop: Full layout -->
            <div class="flex flex-col gap-3">
              <!-- Row 1: Title + Filter toggle (mobile) or Title + Filters (desktop) -->
              <div class="flex items-center justify-between">
                <div>
                  <h1 class="font-serif text-xl sm:text-2xl lg:text-3xl text-[var(--color-primary)] font-bold">{{activeCategory()?.title}}</h1>
                  <p class="text-[#7A7471] font-sans text-xs sm:text-sm hidden sm:block">{{filteredProducts().length}} products available</p>
                </div>
                
                <!-- Mobile: Filter toggle button -->
                <button (click)="toggleMobileFilters()" class="sm:hidden flex items-center gap-2 bg-white border border-[var(--color-accent)] rounded-full px-3 py-2 text-xs font-sans text-[var(--color-primary)]">
                  <svg class="w-4 h-4 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"/></svg>
                  Filter
                  <svg [class]="'w-3 h-3 text-[var(--color-secondary)] transition-transform duration-300 ' + (mobileFiltersOpen() ? 'rotate-180' : '')" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                </button>
                
                <!-- Desktop: Filters always visible -->
                <div class="hidden sm:flex gap-2 sm:gap-3">
                  <div class="relative">
                    <select [(ngModel)]="flavorFilterSignal" (ngModelChange)="onFlavorFilterChange($event)" class="appearance-none bg-white border border-[var(--color-accent)] rounded-full pl-3 sm:pl-4 pr-8 sm:pr-12 py-2 sm:py-2.5 text-xs sm:text-sm font-sans text-[var(--color-primary)] focus:outline-none focus:border-[var(--color-secondary)] cursor-pointer transition-all">
                      <option value="all">All Flavors</option>
                      <option value="chocolate">Chocolate</option>
                      <option value="fruit">Fruit</option>
                      <option value="nutty">Nutty</option>
                      <option value="vanilla">Vanilla</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3">
                      <svg class="w-3 h-3 sm:w-4 sm:h-4 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                    </div>
                  </div>
                  <div class="relative">
                    <select [(ngModel)]="priceSortSignal" (ngModelChange)="onPriceSortChange($event)" class="appearance-none bg-white border border-[var(--color-accent)] rounded-full pl-3 sm:pl-4 pr-8 sm:pr-12 py-2 sm:py-2.5 text-xs sm:text-sm font-sans text-[var(--color-primary)] focus:outline-none focus:border-[var(--color-secondary)] cursor-pointer transition-all">
                      <option value="default">Sort by Price</option>
                      <option value="low">Low â†’ High</option>
                      <option value="high">High â†’ Low</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3">
                      <svg class="w-3 h-3 sm:w-4 sm:h-4 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Mobile: Collapsible filters -->
              @if (mobileFiltersOpen()) {
                <div class="sm:hidden flex gap-2 animate-slideUp">
                  <div class="relative flex-1">
                    <select [(ngModel)]="flavorFilterSignal" (ngModelChange)="onFlavorFilterChange($event)" class="w-full appearance-none bg-white border border-[var(--color-accent)] rounded-full pl-3 pr-8 py-2 text-xs font-sans text-[var(--color-primary)] focus:outline-none focus:border-[var(--color-secondary)] cursor-pointer transition-all">
                      <option value="all">All Flavors</option>
                      <option value="chocolate">Chocolate</option>
                      <option value="fruit">Fruit</option>
                      <option value="nutty">Nutty</option>
                      <option value="vanilla">Vanilla</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2">
                      <svg class="w-3 h-3 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                    </div>
                  </div>
                  <div class="relative flex-1">
                    <select [(ngModel)]="priceSortSignal" (ngModelChange)="onPriceSortChange($event)" class="w-full appearance-none bg-white border border-[var(--color-accent)] rounded-full pl-3 pr-8 py-2 text-xs font-sans text-[var(--color-primary)] focus:outline-none focus:border-[var(--color-secondary)] cursor-pointer transition-all">
                      <option value="default">Sort by Price</option>
                      <option value="low">Low â†’ High</option>
                      <option value="high">High â†’ Low</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2">
                      <svg class="w-3 h-3 text-[var(--color-secondary)]" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                    </div>
                  </div>
                </div>
              }
            </div>
          </div>
        </div>
      </div>

      <div class="max-w-7xl mx-auto px-4 sm:px-6 py-16 lg:py-24 bg-[var(--color-bg)]">
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-10 lg:gap-16 xl:gap-24">
          @for (product of filteredProducts(); track product.id) {
            <div class="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-500 border border-accent-30 hover-border-secondary-30">
              <div class="relative aspect-[4/5] overflow-hidden">
                <img [src]="product.image" [alt]="product.name" loading="lazy" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"/>
                <div class="absolute inset-0 category-overlay-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="absolute top-4 right-4 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 border border-accent-50">
                  <span class="text-[10px] font-sans font-bold text-[#9C6544] uppercase tracking-[0.15em]">{{product.flavor}}</span>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <h3 class="font-serif text-xl text-[var(--color-primary)] group-hover:text-[var(--color-secondary)] transition-colors leading-tight">{{product.name}}</h3>
                <p class="text-[#7A7471] font-sans text-sm leading-relaxed line-clamp-3 h-[4.5rem]">{{product.description}}</p>
                <div class="flex items-center justify-between pt-2 border-t border-accent-30">
                  <p class="font-sans font-bold text-xl text-[var(--color-secondary)] tracking-tight"><span>From </span> <span class="font-bold">â‚¹{{product.price | number}}</span></p>
                  <button (click)="inquireProduct(product.name)" class="inline-flex items-center gap-2 bg-accent-50 hover:bg-[var(--color-secondary)] text-[var(--color-primary)] hover:text-white px-4 py-2 rounded-full text-xs font-sans font-bold uppercase tracking-wider transition-all duration-300">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"/></svg>
                    Inquire
                  </button>
                </div>
              </div>
            </div>
          }
        </div>
        @if (filteredProducts().length === 0) {
          <div class="text-center py-16">
            <svg class="w-16 h-16 mx-auto text-[var(--color-accent)] mb-4" fill="none" stroke="currentColor" stroke-width="0.5" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 12h8M12 8v8"/></svg>
            <p class="font-serif text-xl text-[var(--color-primary)] mb-2">No products match your filters</p>
            <p class="text-[#7A7471] font-sans text-sm">Try adjusting your selection criteria</p>
          </div>
        }
      </div>

      <div class="bg-[var(--color-primary)] py-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
          <h3 class="font-serif text-2xl sm:text-3xl text-[var(--color-accent)] font-bold mb-4">Can't find what you're looking for?</h3>
          <p class="text-gray-400 font-sans mb-8 max-w-xl mx-auto">We specialize in bespoke creations tailored to your vision. Let's design your perfect cake together.</p>
          <button (click)="goBack(); scrollToConcierge()" class="inline-flex items-center gap-3 bg-[var(--color-secondary)] hover:bg-[#B38A7C] text-white px-8 py-4 rounded-full font-sans font-medium transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-0.5">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"/></svg>
            Start Custom Order
          </button>
        </div>
      </div>
    </div>
  }

  <!-- ============================================
       FLOATING CONCIERGE COMPONENT
       ============================================ -->
  <div class="fixed bottom-8 sm:bottom-6 right-4 sm:right-6 z-[100] flex flex-col items-end gap-3 transition-all duration-500" [class.opacity-0]="!conciergeVisible()" [class.pointer-events-none]="!conciergeVisible()"
       style="bottom: max(2rem, env(safe-area-inset-bottom, 1.5rem) + 0.5rem);">
    <!-- Menu Items (Animated Stack) -->
    @if (isMenuOpen()) {
      <div class="transition-all duration-500 space-y-3 animate-fadeIn">
        <!-- WhatsApp Item -->
        <button (click)="openWhatsApp()" class="group flex items-center gap-3 px-5 py-3.5 bg-white/95 backdrop-blur-md border border-accent-50 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 active:scale-95">
          <svg class="w-5 h-5 text-[#7E5539]" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
          <span class="font-sans font-medium text-sm text-[#2D2926]">Chat with Monisha</span>
        </button>

        <!-- Instagram Item -->
        <button (click)="openInstagram()" class="group flex items-center gap-3 px-5 py-3.5 bg-white/95 backdrop-blur-md border border-accent-50 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 active:scale-95">
          <svg class="w-5 h-5 text-[#7E5539]" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2.163c3.204 0 3.584.011 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.011 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.011-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.011-3.584.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12c0-3.403 2.759-6.162 6.162-6.162 3.403 0 6.162 2.759 6.162 6.162 0 3.403-2.759 6.162-6.162 6.162-3.403 0-6.162-2.759-6.162-6.162zm2.889 0c0 1.794 1.459 3.25 3.253 3.25 1.794 0 3.253-1.456 3.253-3.25 0-1.794-1.459-3.253-3.253-3.253-1.794 0-3.253 1.459-3.253 3.253zm9.539-6.422c0 .795.645 1.44 1.44 1.44.795 0 1.44-.645 1.44-1.44 0-.795-.645-1.44-1.44-1.44-.795 0-1.44.645-1.44 1.44z"/></svg>
          <span class="font-sans font-medium text-sm text-[#2D2926]">&#64;mo_made_patisserie</span>
        </button>

        <!-- Call Item -->
        <button (click)="callDirectly()" class="group flex items-center gap-3 px-5 py-3.5 bg-white/95 backdrop-blur-md border border-accent-50 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 active:scale-95">
          <svg class="w-5 h-5 text-[#7E5539]" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
          <span class="font-sans font-medium text-sm text-[#2D2926]">Direct Consultation</span>
        </button>
      </div>
    }

    <!-- Floating Action Button (Main) -->
    <button 
      (click)="toggleMenu()" 
      class="w-16 h-16 rounded-full bg-[#7E5539] text-white flex items-center justify-center shadow-2xl hover:shadow-xl transition-all duration-500 hover:scale-110 active:scale-95"
      style="background-color: #7E5539; border: none; color: white; border-radius: 9999px; width: 4rem; height: 4rem;"
      [class.scale-110]="isMenuOpen()"
      [attr.aria-expanded]="isMenuOpen()"
      aria-label="Open concierge menu"
    >
      <!-- Message Icon (when closed) -->
      @if (!isMenuOpen()) {
        <svg class="w-7 h-7 transition-all duration-500 rotate-0" fill="#FFFFFF" viewBox="0 0 24 24" width="28" height="28">
          <path d="M20.656 21.528L.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654z"/>
        </svg>
      }
      <!-- Close Icon (when open) -->
      @if (isMenuOpen()) {
        <svg class="w-7 h-7 transition-all duration-500 rotate-90" fill="none" stroke="#FFFFFF" stroke-width="1.5" viewBox="0 0 24 24" width="28" height="28">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      }
    </button>
  </div>
</div>
</div>
